#!/usr/bin/env node

// Load required scripts
var path = require('path');

// Set the package root
require.paths.unshift(path.join(__dirname, '..', 'lib'));

// Initialise variables
var Sentinel = require('sentinel').Sentinel,
	args = process.argv.splice(2),
	s = new Sentinel();

s.mergeConfig({
	files: [
		{
			path: './lib/sentinel/index.js',
			processor: 'display'
		}
	],
	processors: {
		display: 'cat {{path}}'
	}
});

s.start();

s.on('fileChanged', function(file, curr, prev) {
	console.log('File changed: ' + file.path + ' (' + prev.size + 'b -> ' + curr.size + 'b = ' + (curr.size - prev.size) + 'b)');
});